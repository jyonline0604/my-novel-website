<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ****************************************************** -->
    <!-- 記得修改這裡的標題 -->
    <title>第二章：末法餘燼 - 科技修真傳</title>
    <!-- ****************************************************** -->
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Noto+Serif+TC:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        :root {
            --light-bg: #f8f9fa; --light-text: #212529; --light-border: #dee2e6; --light-primary: #007bff; --light-header-bg: rgba(248, 249, 250, 0.9);
            --dark-bg: #1a1a1a; --dark-text: #e9ecef; --dark-border: #495057; --dark-primary: #58a6ff; --dark-header-bg: rgba(26, 26, 26, 0.9);
            --sepia-bg: #f4e8d5; --sepia-text: #5b4636; --sepia-border: #d3c5a9; --sepia-primary: #a0522d; --sepia-header-bg: rgba(244, 232, 213, 0.9);
            --font-serif: 'Noto Serif TC', serif; --font-sans: 'Lato', sans-serif;
        }
        html { scroll-behavior: smooth; }
        body { margin: 0; transition: background-color 0.4s ease, color 0.4s ease; font-family: var(--font-sans); }
        body.light-mode { background-color: var(--light-bg); color: var(--light-text); }
        body.dark-mode { background-color: var(--dark-bg); color: var(--dark-text); }
        body.sepia-mode { background-color: var(--sepia-bg); color: var(--sepia-text); }
        .reader-header { position: sticky; top: 0; display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid; backdrop-filter: blur(10px); z-index: 100; }
        .light-mode .reader-header { background-color: var(--light-header-bg); border-color: var(--light-border); }
        .dark-mode .reader-header { background-color: var(--dark-header-bg); border-color: var(--dark-border); }
        .sepia-mode .reader-header { background-color: var(--sepia-header-bg); border-color: var(--sepia-border); }
        .header-nav-link { text-decoration: none; font-size: 0.9rem; padding: 0.5rem 1rem; border-radius: 20px; transition: background-color 0.2s; }
        .light-mode .header-nav-link { color: var(--light-primary); }
        .dark-mode .header-nav-link { color: var(--dark-primary); }
        .sepia-mode .header-nav-link { color: var(--sepia-primary); }
        .header-nav-link:hover { background-color: rgba(0,0,0,0.05); }
        .dark-mode .header-nav-link:hover, .sepia-mode .header-nav-link:hover { background-color: rgba(0,0,0,0.1); }
        .reader-chapter-title { font-size: 1rem; font-weight: 600; text-align: center; margin: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .header-controls { display: flex; align-items: center; gap: 1rem; }
        .control-btn { background: none; border: none; cursor: pointer; font-size: 1.2rem; padding: 5px; color: inherit; }
        .settings-panel { position: fixed; top: 70px; right: 20px; padding: 1.5rem; border-radius: 8px; z-index: 101; transition: opacity 0.3s, transform 0.3s; transform: translateY(-10px); opacity: 0; visibility: hidden; }
        .settings-panel.show { transform: translateY(0); opacity: 1; visibility: visible; }
        .light-mode .settings-panel { background-color: var(--light-card-bg); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .dark-mode .settings-panel { background-color: var(--dark-card-bg); box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .sepia-mode .settings-panel { background-color: #fff9f0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .setting-group { margin-bottom: 1rem; }
        .setting-group:last-child { margin-bottom: 0; }
        .setting-group h4 { margin: 0 0 0.8rem 0; font-size: 0.9rem; opacity: 0.8; }
        .setting-options { display: flex; gap: 0.5rem; }
        .setting-options button { padding: 0.5rem 1rem; border: 1px solid; border-radius: 20px; cursor: pointer; background-color: transparent; color: inherit; }
        .setting-options button.active { color: white; }
        .light-mode .setting-options button.active { background-color: var(--light-primary); border-color: var(--light-primary); }
        .dark-mode .setting-options button.active { background-color: var(--dark-primary); border-color: var(--dark-primary); color: var(--dark-bg); }
        .sepia-mode .setting-options button.active { background-color: var(--sepia-primary); border-color: var(--sepia-primary); }
        .reader-content-area { padding: 2rem 1rem 4rem 1rem; }
        .reader-article { max-width: 42rem; margin: 0 auto; font-family: var(--font-serif); line-height: 1.9; transition: font-size 0.3s; }
        .font-size-small { font-size: 1.0rem; }
        .font-size-medium { font-size: 1.2rem; }
        .font-size-large { font-size: 1.4rem; }
        .reader-article h1 { font-size: 2.5em; text-align: center; margin-bottom: 2.5rem; }
        .reader-article p { margin-bottom: 1.6rem; text-indent: 2em; }
        
        /* --- 新增：分享按鈕樣式 --- */
        .share-section {
            max-width: 42rem;
            margin: 3rem auto 1rem auto;
            text-align: center;
            padding: 1rem;
        }
        .share-title {
            font-size: 0.9rem;
            font-weight: bold;
            opacity: 0.7;
            margin-bottom: 1rem;
        }
        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }
        .share-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            text-decoration: none;
            color: white;
            font-size: 1.2rem;
            transition: transform 0.2s ease;
        }
        .share-btn:hover {
            transform: scale(1.1);
        }
        .share-btn.facebook { background-color: #1877F2; }
        .share-btn.twitter { background-color: #1DA1F2; }
        .share-btn.line { background-color: #00B900; }
        .share-btn.copy-link { background-color: #7f8c8d; }

        .reader-footer-nav { display: flex; justify-content: space-between; max-width: 42rem; margin: 2rem auto; padding: 0 1rem; }
        .nav-button { text-decoration: none; padding: 0.8rem 2rem; border-radius: 50px; font-weight: 700; transition: all 0.3s ease; border: 1px solid; }
        .light-mode .nav-button { background-color: var(--light-primary); color: white; border-color: var(--light-primary); }
        .dark-mode .nav-button { background-color: var(--dark-primary); color: var(--dark-bg); border-color: var(--dark-primary); }
        .sepia-mode .nav-button { background-color: var(--sepia-primary); color: white; border-color: var(--sepia-primary); }
        .nav-button.disabled { pointer-events: none; opacity: 0.5; }
        
        @media (max-width: 768px) { .reader-header { padding: 0.8rem 1rem; } .reader-chapter-title { font-size: 0.9rem; } .reader-article { font-size: 1.1rem; } .reader-article h1 { font-size: 2rem; } .font-size-small { font-size: 1rem; } .font-size-medium { font-size: 1.1rem; } .font-size-large { font-size: 1.2rem; } }
    </style>
</head>
<body class="light-mode">

    <header class="reader-header">
        <a href="index.html" class="header-nav-link"><i class="fas fa-arrow-left"></i> 返回目錄</a>
        <!-- ****************************************************** -->
        <!-- 記得修改這裡的標題 -->
        <h2 class="reader-chapter-title">第二章：末法餘燼</h2>
        <!-- ****************************************************** -->
        <div class="header-controls">
            <button id="settings-btn" class="control-btn" aria-label="閱讀設定"><i class="fas fa-cog"></i></button>
        </div>
    </header>

    <div id="settings-panel" class="settings-panel">
        <div class="setting-group">
            <h4>字體大小</h4>
            <div id="font-size-options" class="setting-options">
                <button data-size="small">小</button>
                <button data-size="medium">中</button>
                <button data-size="large">大</button>
            </div>
        </div>
        <div class="setting-group">
            <h4>背景主題</h4>
            <div id="theme-options" class="setting-options">
                <button data-theme="light-mode">明亮</button>
                <button data-theme="sepia-mode">米黃</button>
                <button data-theme="dark-mode">夜間</button>
            </div>
        </div>
    </div>

    <main class="reader-content-area">
        <article id="reader-article" class="reader-article font-size-medium">
            <!-- ****************************************************** -->
            <!-- 在這裡貼上你的小說內文 -->
            <h1>第二章：末法餘燼</h1>
            <p>晨霧如鉛，冷冽而濃稠，覆蓋整座舊都廢墟。

林塵躲在一座倒塌劇院的地下室裡，點燃一根破舊電子蠟燭。微弱的黃光驅散了些許黑暗，也照亮他眼中那尚未熄滅的決意。

他身邊躺著從“破序者”手中搶來的背包，裡頭有幾塊能量乾糧、半瓶濃縮水，以及一片刻著奇異符紋的破損晶板。

那晶板——是他從黑市撿漏得來的《末法簡誌》。

林塵將它連接到靈芯的資料模擬端口中，一行行帶有干擾波的文字浮現在視野中：

【資料名稱】：《末法簡誌·初編》
【作者】：無名修士（推測為靈數聯盟早期成員）
【內容摘錄】：

「……靈氣漸衰始於公元2122年，人類首次觀測到天地靈脈收縮現象。起初被誤認為地磁異變與量子濁流干涉，然而隨著三年內全球近七成修行者靈根斷裂，才確定為‘末法元年’之開端……」

「……現今地表靈氣濃度較百年前下降99.84%，常規修煉已無可能。仙門道統幾近毀滅，靈脈荒廢，唯有依仗古科技所遺‘靈芯技術’與‘編碼功法’，或可走出新道。」

「……靈芯者，乃是以天道法則為程式語言、靈氣為運行能源、精神意志為運行核心的超維修煉中樞。其技失傳於第七次靈能戰爭後，已絕跡一百餘年。」

林塵看完後沉默良久。

他從未真正了解過修真世界的“前文明”，只知道：現在的世界，只剩下殘垣斷壁與無數飢餓的眼睛。修士已成傳說，修仙成了笑話。

直到昨天，他才知道，一切都是真實的。

而他，竟然有幸成為重啟這個傳說的一環。

「靈芯，是希望……也是賭注。」

林塵手指輕點，調出靈芯系統主界面。

界面上，【修煉模擬】功能已成功解鎖，並新增了一項：

【新功能解鎖】：環境靈氣監測（被動）
【目前靈氣濃度】：0.00023%（危險區）
【推薦修煉方式】：以數據重構虛擬靈脈模擬修煉，提升吸收效率
【啟動虛擬靈脈模擬器？】

林塵點下“是”。

霎時間，一道虛擬圖譜在他腦海中張開，那是一條流轉著淡銀光的透明靈脈，仿佛從虛空中延展而來。

他坐直身體，開始根據指引呼吸、冥想、意守靈源。

雖然吸收速度極慢，但他仍能清晰感受到那一絲絲靈氣如微塵般滲入丹田，在乾涸已久的體內彙聚。

【模擬修煉進度：3%……9%……17%】

【檢測到微靈氣渦旋，是否保存作為本地修煉模板？】

【是】

一小時後，修煉完成。

雖然丹田內的靈氣不足以點燃一盞靈燈，但他已明顯感覺到——身體正在改變。

不是力量上的強化，而是一種底層感知的甦醒。他能“聽”到空氣中的靈氣波動，甚至“看到”它們在黑暗中流轉，如數據般呈現。

這就是靈芯帶來的“靈覺”。

「也許，末法世界真正的希望，不是強行重啟天地靈氣……而是，我們該學會，如何用數據與科技，重構天道。」

林塵腦中閃過這句話。

他想起很久以前，在黑市書商那裡翻過的一本爛書，其中有一句話：

「道可道，非常道。數據若道，亦可證道。」

如今，他終於明白這句話的意義。

他現在不是傳統的煉氣修士，而是一名“靈數初修者”——用科技理解修煉，用演算法操控靈氣。

外面忽然傳來一聲巨響，地下室頂部震落灰塵。

林塵警覺地啟動靈芯掃描功能。

【偵測異常靈壓信號】【級別：三級】【方向：正上方】【距離：13米】

「又來了……破序者這些瘋子怎麼盯上我了？」

他低罵一聲，迅速啟動靈芯中的【戰鬥模擬】模塊。

這個功能仍未完全解鎖，只能模擬敵人動作預判與最優逃逸路徑，但對於此刻的他來說，足矣。

他緩緩握住能量刀，身體壓低，如夜貓般潛入黑暗。

三分鐘後，一道爆裂聲震開劇院殘壁，幾名身穿機械外骨骼的破序者衝入。

「這裡的靈氣數據值有異，肯定有靈芯殘件！」

為首者大吼一聲，雙眼泛紅，明顯已被靈氣數據侵蝕心智。

然而，他們不知道，一名少年早已躲過探測，潛入下水系統，沿著靈芯預設路徑逃向下個節點。

—

夜幕再臨，林塵站在一處廢棄的電塔下，點開靈芯界面。

【今日修煉總進度：靈氣吸納 +0.014%，靈覺穩定性 +3.8%，資料記錄：已儲存】

他深吸一口氣，望向遠方廢土連綿的天邊。

在那盡頭，是傳說中的“靈網主機遺址”，據說有一位未死的靈芯老祖的意識碎片藏身其中。

林塵輕聲說道：

「這個世界雖被遺棄，但我會一步步，把它修好——不靠神，不靠靈根，只靠數據，與自己。」

靈芯發出微弱的光。

新的道，在數據的深處，正在重啟。</p>
            <!-- ****************************************************** -->
        </article>
    </main>

    <!-- ****************************************************** -->
    <!-- 新增的分享區塊 -->
    <section class="share-section">
        <h4 class="share-title">分享這個章節</h4>
        <div class="share-buttons">
            <a href="#" id="share-facebook" class="share-btn facebook" title="分享到 Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" id="share-twitter" class="share-btn twitter" title="分享到 X (Twitter)"><i class="fab fa-twitter"></i></a>
            <a href="#" id="share-line" class="share-btn line" title="分享到 LINE"><i class="fab fa-line"></i></a>
            <button id="copy-link-btn" class="share-btn copy-link" title="複製連結"><i class="fas fa-link"></i></button>
        </div>
    </section>
    <!-- ****************************************************** -->

    <footer class="reader-footer-nav">
        <!-- ****************************************************** -->
        <!-- 記得修改翻頁連結 -->
        <a href="#" id="prev-chapter-btn" class="nav-button disabled">« 上一章</a>
        <a href="chapter-3.html" id="next-chapter-btn" class="nav-button">下一章 »</a>
        <!-- ****************************************************** -->
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const settingsBtn = document.getElementById('settings-btn');
            const settingsPanel = document.getElementById('settings-panel');
            const article = document.getElementById('reader-article');
            const fontSizeOptions = document.getElementById('font-size-options');
            const themeOptions = document.getElementById('theme-options');

            localStorage.setItem('novel-last-read', window.location.href);

            const savedSettings = JSON.parse(localStorage.getItem('novel-settings')) || {};
            const currentTheme = savedSettings.theme || 'light-mode';
            const currentFontSize = savedSettings.fontSize || 'medium';

            function applySettings(theme, size) {
                document.body.className = theme;
                article.className = `reader-article font-size-${size}`;
                document.querySelector('#theme-options .active')?.classList.remove('active');
                document.querySelector('#font-size-options .active')?.classList.remove('active');
                document.querySelector(`#theme-options button[data-theme="${theme}"]`).classList.add('active');
                document.querySelector(`#font-size-options button[data-size="${size}"]`).classList.add('active');
            }
            applySettings(currentTheme, currentFontSize);

            settingsBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                settingsPanel.classList.toggle('show');
            });
            document.addEventListener('click', (e) => {
                if (!settingsPanel.contains(e.target) && !settingsBtn.contains(e.target)) {
                    settingsPanel.classList.remove('show');
                }
            });

            fontSizeOptions.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    const newSize = e.target.dataset.size;
                    savedSettings.fontSize = newSize;
                    localStorage.setItem('novel-settings', JSON.stringify(savedSettings));
                    applySettings(savedSettings.theme || 'light-mode', newSize);
                }
            });

            themeOptions.addEventListener('click', (e) => {
                if (e.target.tagName === 'BUTTON') {
                    const newTheme = e.target.dataset.theme;
                    savedSettings.theme = newTheme;
                    localStorage.setItem('novel-settings', JSON.stringify(savedSettings));
                    applySettings(newTheme, savedSettings.fontSize || 'medium');
                }
            });

            const prevBtn = document.getElementById('prev-chapter-btn');
            const nextBtn = document.getElementById('next-chapter-btn');
            document.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft' && !prevBtn.classList.contains('disabled')) window.location.href = prevBtn.href;
                if (e.key === 'ArrowRight' && !nextBtn.classList.contains('disabled')) window.location.href = nextBtn.href;
            });

            // --- 分享功能邏輯 ---
            const pageUrl = window.location.href;
            const pageTitle = document.title;

            document.getElementById('share-facebook').addEventListener('click', (e) => {
                e.preventDefault();
                window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(pageUrl)}`, 'facebook-share', 'width=580,height=296');
            });
            
            document.getElementById('share-twitter').addEventListener('click', (e) => {
                e.preventDefault();
                window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(pageUrl)}&text=${encodeURIComponent(pageTitle)}`, 'twitter-share', 'width=550,height=420');
            });

            document.getElementById('share-line').addEventListener('click', (e) => {
                e.preventDefault();
                window.open(`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(pageUrl)}`, 'line-share', 'width=500,height=500');
            });

            document.getElementById('copy-link-btn').addEventListener('click', (e) => {
                const btn = e.currentTarget;
                const icon = btn.querySelector('i');
                const originalIconClass = icon.className;

                navigator.clipboard.writeText(pageUrl).then(() => {
                    icon.className = 'fas fa-check';
                    btn.style.backgroundColor = '#2ecc71';
                    setTimeout(() => {
                        icon.className = originalIconClass;
                        btn.style.backgroundColor = '';
                    }, 2000);
                }).catch(err => {
                    console.error('無法複製連結: ', err);
                });
            });
        });
    </script>

</body>
</html>
