<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- 記得修改這裡的標題 -->
    <title>第一章：靈芯覺醒 - 科技修真傳</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=Noto+Serif+TC:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <style>
        :root {
            --light-bg: #f8f9fa; --light-text: #212529; --light-border: #dee2e6; --light-primary: #007bff; --light-header-bg: rgba(248, 249, 250, 0.9);
            --dark-bg: #1a1a1a; --dark-text: #e9ecef; --dark-border: #495057; --dark-primary: #58a6ff; --dark-header-bg: rgba(26, 26, 26, 0.9);
            --sepia-bg: #f4e8d5; --sepia-text: #5b4636; --sepia-border: #d3c5a9; --sepia-primary: #a0522d; --sepia-header-bg: rgba(244, 232, 213, 0.9);
            --font-serif: 'Noto Serif TC', serif; --font-sans: 'Lato', sans-serif;
        }
        html { scroll-behavior: smooth; }
        body { margin: 0; transition: background-color 0.4s ease, color 0.4s ease; font-family: var(--font-sans); }
        body.light-mode { background-color: var(--light-bg); color: var(--light-text); }
        body.dark-mode { background-color: var(--dark-bg); color: var(--dark-text); }
        body.sepia-mode { background-color: var(--sepia-bg); color: var(--sepia-text); }
        .reader-header { position: sticky; top: 0; display: flex; justify-content: space-between; align-items: center; padding: 1rem 1.5rem; border-bottom: 1px solid; backdrop-filter: blur(10px); z-index: 100; }
        .light-mode .reader-header { background-color: var(--light-header-bg); border-color: var(--light-border); }
        .dark-mode .reader-header { background-color: var(--dark-header-bg); border-color: var(--dark-border); }
        .sepia-mode .reader-header { background-color: var(--sepia-header-bg); border-color: var(--sepia-border); }
        .header-nav-link { text-decoration: none; font-size: 0.9rem; padding: 0.5rem 1rem; border-radius: 20px; transition: background-color 0.2s; }
        .light-mode .header-nav-link { color: var(--light-primary); }
        .dark-mode .header-nav-link { color: var(--dark-primary); }
        .sepia-mode .header-nav-link { color: var(--sepia-primary); }
        .header-nav-link:hover { background-color: rgba(0,0,0,0.05); }
        .dark-mode .header-nav-link:hover, .sepia-mode .header-nav-link:hover { background-color: rgba(0,0,0,0.1); }
        .reader-chapter-title { font-size: 1rem; font-weight: 600; text-align: center; margin: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .header-controls { display: flex; align-items: center; gap: 1rem; }
        .control-btn { background: none; border: none; cursor: pointer; font-size: 1.2rem; padding: 5px; color: inherit; }
        .settings-panel { position: fixed; top: 70px; right: 20px; padding: 1.5rem; border-radius: 8px; z-index: 101; transition: opacity 0.3s, transform 0.3s; transform: translateY(-10px); opacity: 0; visibility: hidden; }
        .settings-panel.show { transform: translateY(0); opacity: 1; visibility: visible; }
        .light-mode .settings-panel { background-color: var(--light-card-bg); box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .dark-mode .settings-panel { background-color: var(--dark-card-bg); box-shadow: 0 4px 15px rgba(0,0,0,0.3); }
        .sepia-mode .settings-panel { background-color: #fff9f0; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .setting-group { margin-bottom: 1rem; }
        .setting-group:last-child { margin-bottom: 0; }
        .setting-group h4 { margin: 0 0 0.8rem 0; font-size: 0.9rem; opacity: 0.8; }
        .setting-options { display: flex; gap: 0.5rem; }
        .setting-options button { padding: 0.5rem 1rem; border: 1px solid; border-radius: 20px; cursor: pointer; background-color: transparent; color: inherit; }
        .setting-options button.active { color: white; }
        .light-mode .setting-options button.active { background-color: var(--light-primary); border-color: var(--light-primary); }
        .dark-mode .setting-options button.active { background-color: var(--dark-primary); border-color: var(--dark-primary); color: var(--dark-bg); }
        .sepia-mode .setting-options button.active { background-color: var(--sepia-primary); border-color: var(--sepia-primary); }
        .reader-content-area { padding: 2rem 1rem 1rem 1rem; }
        .reader-article { max-width: 42rem; margin: 0 auto; font-family: var(--font-serif); line-height: 1.9; transition: font-size 0.3s; }
        .font-size-small { font-size: 1.0rem; }
        .font-size-medium { font-size: 1.2rem; }
        .font-size-large { font-size: 1.4rem; }
        .reader-article h1 { font-size: 2.5em; text-align: center; margin-bottom: 2.5rem; }
        .reader-article p { margin-bottom: 1.6rem; text-indent: 2em; }
        .share-section { max-width: 42rem; margin: 3rem auto 1rem auto; text-align: center; padding: 1rem; }
        .share-title { font-size: 0.9rem; font-weight: bold; opacity: 0.7; margin-bottom: 1rem; }
        .share-buttons { display: flex; justify-content: center; gap: 1rem; }
        .share-btn { display: inline-flex; align-items: center; justify-content: center; width: 44px; height: 44px; border-radius: 50%; text-decoration: none; color: white; font-size: 1.2rem; transition: transform 0.2s ease; }
        .share-btn:hover { transform: scale(1.1); }
        .share-btn.facebook { background-color: #1877F2; }
        .share-btn.twitter { background-color: #1DA1F2; }
        .share-btn.line { background-color: #00B900; }
        .share-btn.copy-link { background-color: #7f8c8d; }
        .reader-footer-nav { display: flex; justify-content: space-between; max-width: 42rem; margin: 2rem auto; padding: 0 1rem; }
        .nav-button { text-decoration: none; padding: 0.8rem 2rem; border-radius: 50px; font-weight: 700; transition: all 0.3s ease; border: 1px solid; }
        .light-mode .nav-button { background-color: var(--light-primary); color: white; border-color: var(--light-primary); }
        .dark-mode .nav-button { background-color: var(--dark-primary); color: var(--dark-bg); border-color: var(--dark-primary); }
        .sepia-mode .nav-button { background-color: var(--sepia-primary); color: white; border-color: var(--sepia-primary); }
        .nav-button.disabled { pointer-events: none; opacity: 0.5; }
        .comment-section { max-width: 42rem; margin: 4rem auto; padding: 0 1rem; }
        .comment-section-title { text-align: center; font-family: var(--font-serif); font-size: 1.8rem; margin-bottom: 2rem; opacity: 0.9; }
        @media (max-width: 768px) { .reader-header { padding: 0.8rem 1rem; } .reader-chapter-title { font-size: 0.9rem; } .reader-article { font-size: 1.1rem; } .reader-article h1 { font-size: 2rem; } .font-size-small { font-size: 1rem; } .font-size-medium { font-size: 1.1rem; } .font-size-large { font-size: 1.2rem; } }
    </style>
</head>
<body class="light-mode">

    <header class="reader-header">
        <a href="index.html" class="header-nav-link"><i class="fas fa-arrow-left"></i> 返回目錄</a>
        <h2 class="reader-chapter-title">第一章：靈芯覺醒</h2>
        <div class="header-controls">
            <button id="settings-btn" class="control-btn" aria-label="閱讀設定"><i class="fas fa-cog"></i></button>
        </div>
    </header>

    <div id="settings-panel" class="settings-panel">
        <div class="setting-group">
            <h4>字體大小</h4>
            <div id="font-size-options" class="setting-options">
                <button data-size="small">小</button>
                <button data-size="medium">中</button>
                <button data-size="large">大</button>
            </div>
        </div>
        <div class="setting-group">
            <h4>背景主題</h4>
            <div id="theme-options" class="setting-options">
                <button data-theme="light-mode">明亮</button>
                <button data-theme="sepia-mode">米黃</button>
                <button data-theme="dark-mode">夜間</button>
            </div>
        </div>
    </div>

    <main class="reader-content-area">
        <article id="reader-article" class="reader-article font-size-medium">
            <h1>第一章：靈芯覺醒</h1>
            <p>末法元年一百四十二年，舊世界的天空仍被永不消散的鉛雲籠罩著。

林塵縮在一座廢棄鋼骨大樓的頂層機房裡，身上只裹著一件舊軍毯，手中攥著一把銹蝕的能量刀，警惕地望向下方的黑暗。

那裡，是靈氣黑市的邊緣地帶。也是“破序者”——廢土上的修士與技客雜交種——最常出沒的地方。哪怕只是一眼不對，都可能被活活剝皮抽魂。

林塵咬了咬牙，轉身小心翼翼地打開了機房最深處的合金機櫃。

「就是這裡……」

他記得，根據前幾日從資料網中破解的一段模糊語音，這裡曾是舊時代某間“靈數聯盟”留下的備用節點。

在厚厚的灰塵與蜘蛛網下，他終於找到那塊嵌在牆體中的黑色晶片——拇指大小，邊緣閃爍著微弱光點。

「古代靈芯技術……真的存在？」

林塵雙手顫抖地將晶片撬出。當指尖觸碰到那一刻，一股微弱卻異常清晰的電流竄入腦中。

【靈芯核心受損，正在重構主導頻道……】

【啟動條件符合，是否與宿主建立初級連結？】

電子聲冰冷且帶著殘破感，卻讓林塵渾身一震。

他沒有猶豫，低聲吐出一句：

「確定連結。」

下一秒，整個世界突然安靜了。

仿佛周圍所有的聲音都被抽空，只剩下那枚晶片化作的一道光點，浮現在他腦海之中，緩緩展開了一副奇異的視界。

那是一個全息視窗界面。

中央顯示著他的生命數值、精神波動頻率、靈氣容量為零、靈脈狀態為「枯竭」。

下方則是一排排灰色的選項按鍵：

【修煉模擬】【功法安裝】【資料掃描】【靈氣構圖】【環境讀取】……

林塵呼吸漸重。他從未見過如此完整的修煉系統，即便是在地底黑市中流傳的那些殘缺靈網片段，也不曾如此清晰。

這是真正的修仙系統！

而且，還是透過科技手段實現的。

「這是……修真與科技的融合體……靈芯……傳說中的靈芯系統？」

他來不及多想，立刻點選了【修煉模擬】。

界面變換，一道複雜的靈氣結構圖自動生成，顯示出初級氣感功《引靈序》的模擬路徑。

一行行資料快速浮現：

【功法名稱】引靈序（模擬版）
【適配程度】：84.7%
【構建資源】：周圍殘餘靈氣 2.4% / 宿主精神力 61.2%
【建議修煉時長】：9分鐘45秒
【預期效果】：打通靈竅三處，微量靈氣聚集、可見輕微感知變化

林塵眼眸一亮。

這是他第一次看到可以“預演”的修煉方式。

傳統修士需花費數年苦修，不斷試錯，才能找出與自己契合的功法；而這靈芯系統，竟可一鍵模擬數據結果！

他盤膝而坐，照著指示，開始緩慢導引精神力，集中意念至腦後幽微區域。

一縷微弱的熱流從腦後滑入頸脈，轉而滲透心口，宛若有什麼封印被微微撬開。

嗡——

下一刻，他周圍的空氣似乎輕微震動，一縷幾不可查的白色靈氣從空氣中被吸納進他的體內。

雖極其稀薄，卻讓林塵睜大了眼睛。

他感覺到自己的血液正在微微加速，細胞在呼吸，全身仿佛被某種能量輕拂而過。

【模擬修煉完成，靈氣吸納率：0.002%，三處靈竅活化中，初步氣感產生】

「成了……我真的，踏入了修煉之路。」

林塵喃喃。

他知道，這只是一小步，但對於末法世界的凡人來說，這一小步，足以與神明對話。

忽然，一股劇烈的靈壓從樓下傳來。

「有人上來了！」他臉色一變。

靈芯界面彈出警告提示：【偵測到四級靈壓接近，是否啟動“模擬逃生”功能？】

「啟動！」

腦海中迅速浮現樓層結構、最佳逃跑路線、敵人潛在弱點分析……全息資料如同神明賜下的洞察。

林塵反身一躍，穿越電纜堆與空調風管，在破敗機樓間飛快穿梭。

數秒後，他成功避過那名破序者的掃描，在另一棟樓間滑入通風井。

【模擬成功，逃逸率：96%】

【獎勵：靈芯數據積分 +1】

林塵躺在陰暗通道中，心跳如雷。

但他的眼神，比剛才更加清明、堅定。

他知道，這個世界雖已崩潰，但在他體內，有一枚靈芯正在蘇醒，一段新的修仙之路，即將由他開啟。

「我不會死在這片廢土，我要用靈芯——修成永恆。」</p>
        </article>
    </main>

    <section class="share-section">
        <h4 class="share-title">分享這個章節</h4>
        <div class="share-buttons">
            <a href="#" id="share-facebook" class="share-btn facebook" title="分享到 Facebook"><i class="fab fa-facebook-f"></i></a>
            <a href="#" id="share-twitter" class="share-btn twitter" title="分享到 X (Twitter)"><i class="fab fa-twitter"></i></a>
            <a href="#" id="share-line" class="share-btn line" title="分享到 LINE"><i class="fab fa-line"></i></a>
            <button id="copy-link-btn" class="share-btn copy-link" title="複製連結"><i class="fas fa-link"></i></button>
        </div>
    </section>

    <footer class="reader-footer-nav">
        <a href="#" id="prev-chapter-btn" class="nav-button disabled">« 上一章</a>
        <a href="chapter-2.html" id="next-chapter-btn" class="nav-button">下一章 »</a>
    </footer>

    <section class="comment-section">
        <h3 class="comment-section-title">讀者留言</h3>
    </section>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- 原有的設定、分享等 JavaScript 程式碼 ---
            const settingsBtn = document.getElementById('settings-btn');
            const settingsPanel = document.getElementById('settings-panel');
            const article = document.getElementById('reader-article');
            const fontSizeOptions = document.getElementById('font-size-options');
            const themeOptions = document.getElementById('theme-options');

            localStorage.setItem('novel-last-read', window.location.href);

            const savedSettings = JSON.parse(localStorage.getItem('novel-settings')) || {};
            let currentTheme = savedSettings.theme || 'light-mode';
            const currentFontSize = savedSettings.fontSize || 'medium';

            function getGiscusTheme(theme) {
                if (theme === 'dark-mode') return 'dark';
                if (theme === 'sepia-mode') return 'light_tritanopia'; // 使用一個接近米黃色的主題
                return 'light';
            }

            function applySettings(theme, size) {
                document.body.className = theme;
                article.className = `reader-article font-size-${size}`;
                document.querySelector('#theme-options .active')?.classList.remove('active');
                document.querySelector('#font-size-options .active')?.classList.remove('active');
                document.querySelector(`#theme-options button[data-theme="${theme}"]`).classList.add('active');
                document.querySelector(`#font-size-options button[data-size="${size}"]`).classList.add('active');
                
                const giscusFrame = document.querySelector('iframe.giscus-frame');
                if (giscusFrame) {
                    giscusFrame.contentWindow.postMessage({ giscus: { setConfig: { theme: getGiscusTheme(theme) } } }, 'https://giscus.app');
                }
            }
            applySettings(currentTheme, currentFontSize);

            settingsBtn.addEventListener('click', (e) => { e.stopPropagation(); settingsPanel.classList.toggle('show'); });
            document.addEventListener('click', (e) => { if (!settingsPanel.contains(e.target) && !settingsBtn.contains(e.target)) { settingsPanel.classList.remove('show'); } });
            fontSizeOptions.addEventListener('click', (e) => { if (e.target.tagName === 'BUTTON') { const newSize = e.target.dataset.size; savedSettings.fontSize = newSize; localStorage.setItem('novel-settings', JSON.stringify(savedSettings)); applySettings(savedSettings.theme || 'light-mode', newSize); } });
            themeOptions.addEventListener('click', (e) => { if (e.target.tagName === 'BUTTON') { const newTheme = e.target.dataset.theme; currentTheme = newTheme; savedSettings.theme = newTheme; localStorage.setItem('novel-settings', JSON.stringify(savedSettings)); applySettings(newTheme, savedSettings.fontSize || 'medium'); } });
            const prevBtn = document.getElementById('prev-chapter-btn');
            const nextBtn = document.getElementById('next-chapter-btn');
            document.addEventListener('keydown', (e) => { if (e.key === 'ArrowLeft' && !prevBtn.classList.contains('disabled')) window.location.href = prevBtn.href; if (e.key === 'ArrowRight' && !nextBtn.classList.contains('disabled')) window.location.href = nextBtn.href; });
            const pageUrl = window.location.href;
            const pageTitle = document.title;
            document.getElementById('share-facebook').addEventListener('click', (e) => { e.preventDefault(); window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(pageUrl)}`, 'facebook-share', 'width=580,height=296'); });
            document.getElementById('share-twitter').addEventListener('click', (e) => { e.preventDefault(); window.open(`https://twitter.com/intent/tweet?url=${encodeURIComponent(pageUrl)}&text=${encodeURIComponent(pageTitle)}`, 'twitter-share', 'width=550,height=420'); });
            document.getElementById('share-line').addEventListener('click', (e) => { e.preventDefault(); window.open(`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(pageUrl)}`, 'line-share', 'width=500,height=500'); });
            document.getElementById('copy-link-btn').addEventListener('click', (e) => {
                const btn = e.currentTarget; const icon = btn.querySelector('i'); const originalIconClass = icon.className;
                navigator.clipboard.writeText(pageUrl).then(() => { icon.className = 'fas fa-check'; btn.style.backgroundColor = '#2ecc71'; setTimeout(() => { icon.className = originalIconClass; btn.style.backgroundColor = ''; }, 2000); }).catch(err => { console.error('無法複製連結: ', err); });
            });

            // --- Giscus 載入邏輯 (已整合您的專屬設定) ---
            const giscusScript = document.createElement('script');
            const giscusAttributes = {
                "src": "https://giscus.app/client.js",
                "data-repo": "jyonline0604/my-novel-website",
                "data-repo-id": "R_kgDOPHnJng",
                "data-category": "Announcements",
                "data-category-id": "DIC_kwDOPHnJns4Csik6",
                "data-mapping": "pathname",
                "data-strict": "0",
                "data-reactions-enabled": "1",
                "data-emit-metadata": "0",
                "data-input-position": "bottom",
                "data-theme": getGiscusTheme(currentTheme),
                "data-lang": "zh-TW",
                "crossorigin": "anonymous",
                "async": ""
            };
            Object.entries(giscusAttributes).forEach(([key, value]) => {
                giscusScript.setAttribute(key, value);
            });
            document.querySelector('.comment-section').appendChild(giscusScript);
        });
    </script>
</body>
</html>
